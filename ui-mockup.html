<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>往診ルート最適化システム - モックアップ</title>
    <!-- Google Maps API - 実際の実装では、以下のスクリプトタグのコメントを外してAPIキーを設定してください -->
    <!-- <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=geometry&callback=initMap" async defer></script> -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Yu Gothic', 'Meiryo', sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .header .subtitle {
            font-size: 14px;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .card h2 {
            font-size: 18px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
            color: #667eea;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            font-size: 14px;
            color: #555;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn-full {
            width: 100%;
        }

        .patient-list,
        .doctor-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .list-item {
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            margin-bottom: 8px;
            background: #fafafa;
        }

        .list-item:hover {
            background: #f0f0f0;
        }

        .list-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .list-item-title {
            font-weight: 600;
            color: #333;
        }

        .list-item-meta {
            font-size: 12px;
            color: #666;
        }

        .result-section {
            grid-column: 1 / -1;
        }

        .route-result {
            margin-top: 20px;
        }

        .doctor-route {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 4px;
        }

        .doctor-route h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .route-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: white;
            border-radius: 4px;
            margin-bottom: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .route-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .route-details {
            flex: 1;
        }

        .route-patient {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .route-time {
            font-size: 12px;
            color: #666;
        }

        .route-total {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #ddd;
            font-weight: 600;
            color: #28a745;
        }

        .tabs {
            display: flex;
            border-bottom: 2px solid #e0e0e0;
            margin-bottom: 20px;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 14px;
            font-weight: 600;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .emergency-form {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 4px;
            padding: 15px;
            margin-top: 15px;
        }

        .emergency-form h3 {
            color: #856404;
            margin-bottom: 15px;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .status-success {
            background: #d4edda;
            color: #155724;
        }

        .status-warning {
            background: #fff3cd;
            color: #856404;
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #999;
        }

        .map-container {
            margin-top: 20px;
            height: 500px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        #route-map {
            width: 100%;
            height: 100%;
        }

        .result-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .result-list {
            max-height: 500px;
            overflow-y: auto;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            .result-layout {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ヘッダー -->
        <div class="header">
            <h1>往診ルート最適化システム</h1>
            <div class="subtitle">管制塔 - 診療スケジュール管理画面</div>
        </div>

        <!-- メインコンテンツ -->
        <div class="main-content">
            <!-- 左カラム: データ登録 -->
            <div class="card">
                <div class="tabs">
                    <button class="tab active" onclick="switchTab('patient')">患者登録</button>
                    <button class="tab" onclick="switchTab('doctor')">医師登録</button>
                    <button class="tab" onclick="switchTab('emergency')">緊急往診</button>
                </div>

                <!-- 患者登録タブ -->
                <div id="patient-tab" class="tab-content active">
                    <h2>患者情報登録</h2>
                    <form id="patient-form">
                        <div class="form-group">
                            <label>患者ID <span style="color: red;">*</span></label>
                            <input type="text" placeholder="例: P001" required>
                        </div>
                        <div class="form-group">
                            <label>患者氏名 <span style="color: red;">*</span></label>
                            <input type="text" placeholder="例: 山田 太郎" required>
                        </div>
                        <div class="form-group">
                            <label>住所 <span style="color: red;">*</span></label>
                            <input type="text" placeholder="例: 東京都渋谷区..." required>
                            <small style="color: #666; font-size: 12px;">※ 緯度経度は自動取得されます</small>
                        </div>
                        <div class="form-group">
                            <label>電話番号</label>
                            <input type="tel" placeholder="例: 03-1234-5678">
                        </div>
                        <div class="form-group">
                            <label>診察推定時間（分） <span style="color: red;">*</span></label>
                            <input type="number" min="1" max="120" placeholder="例: 15" required>
                        </div>
                        <div class="form-group">
                            <label>担当医師 <span style="color: red;">*</span></label>
                            <select required>
                                <option value="">選択してください</option>
                                <option value="D001">医師A（田中）</option>
                                <option value="D002">医師B（佐藤）</option>
                                <option value="D003">医師C（鈴木）</option>
                            </select>
                        </div>
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary btn-full">登録</button>
                        </div>
                    </form>

                    <h2 style="margin-top: 30px;">登録済み患者一覧</h2>
                    <div class="patient-list">
                        <div class="list-item">
                            <div class="list-item-header">
                                <span class="list-item-title">P001 - 山田 太郎</span>
                                <span class="status-badge status-success">登録済み</span>
                            </div>
                            <div class="list-item-meta">
                                診察時間: 15分 | 担当: 医師A | 住所: 東京都渋谷区...
                            </div>
                        </div>
                        <div class="list-item">
                            <div class="list-item-header">
                                <span class="list-item-title">P002 - 佐藤 花子</span>
                                <span class="status-badge status-success">登録済み</span>
                            </div>
                            <div class="list-item-meta">
                                診察時間: 20分 | 担当: 医師B | 住所: 東京都新宿区...
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 医師登録タブ -->
                <div id="doctor-tab" class="tab-content">
                    <h2>医師情報登録</h2>
                    <form id="doctor-form">
                        <div class="form-group">
                            <label>医師ID <span style="color: red;">*</span></label>
                            <input type="text" placeholder="例: D001" required>
                        </div>
                        <div class="form-group">
                            <label>医師氏名 <span style="color: red;">*</span></label>
                            <input type="text" placeholder="例: 田中 一郎" required>
                        </div>
                        <div class="form-group">
                            <label>現在地（初期値: 医療機関所在地）</label>
                            <input type="text" placeholder="例: 東京都千代田区..." readonly>
                            <small style="color: #666; font-size: 12px;">※ 初期値は医療機関の住所です</small>
                        </div>
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary btn-full">登録</button>
                        </div>
                    </form>

                    <h2 style="margin-top: 30px;">登録済み医師一覧</h2>
                    <div class="doctor-list">
                        <div class="list-item">
                            <div class="list-item-header">
                                <span class="list-item-title">D001 - 医師A（田中）</span>
                                <span class="status-badge status-success">登録済み</span>
                            </div>
                            <div class="list-item-meta">
                                担当患者: 3名 | 現在地: 医療機関
                            </div>
                        </div>
                        <div class="list-item">
                            <div class="list-item-header">
                                <span class="list-item-title">D002 - 医師B（佐藤）</span>
                                <span class="status-badge status-success">登録済み</span>
                            </div>
                            <div class="list-item-meta">
                                担当患者: 2名 | 現在地: 医療機関
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 緊急往診タブ -->
                <div id="emergency-tab" class="tab-content">
                    <h2>緊急往診登録</h2>
                    <div class="emergency-form">
                        <h3>緊急往診情報</h3>
                        <form id="emergency-form">
                            <div class="form-group">
                                <label>患者ID <span style="color: red;">*</span></label>
                                <input type="text" placeholder="例: P999" required>
                            </div>
                            <div class="form-group">
                                <label>住所 <span style="color: red;">*</span></label>
                                <input type="text" placeholder="例: 東京都..." required>
                            </div>
                            <div class="form-group">
                                <label>診察推定時間（分） <span style="color: red;">*</span></label>
                                <input type="number" min="1" max="120" placeholder="例: 20" required>
                            </div>
                            <div class="form-group">
                                <label>優先度</label>
                                <select>
                                    <option value="emergency">緊急</option>
                                    <option value="normal">通常</option>
                                </select>
                            </div>
                            <div class="btn-group">
                                <button type="submit" class="btn btn-danger btn-full">緊急登録 & 再計算</button>
                            </div>
                        </form>
                    </div>
                    <p style="margin-top: 15px; font-size: 13px; color: #666;">
                        ※ 緊急往診を登録すると、現在のスケジュールに追加して最適ルートを再計算します。
                    </p>
                </div>
            </div>

            <!-- 右カラム: ルート計算 -->
            <div class="card">
                <h2>ルート最適化計算</h2>
                <div class="btn-group" style="flex-direction: column;">
                    <button class="btn btn-success btn-full" onclick="calculateRoute('morning')">
                        朝一計算
                    </button>
                    <button class="btn btn-success btn-full" onclick="calculateRoute('afternoon')">
                        昼計算
                    </button>
                    <button class="btn btn-primary btn-full" onclick="calculateRoute('emergency')">
                        緊急割り込み計算
                    </button>
                </div>

                <div style="margin-top: 20px; padding: 15px; background: #e7f3ff; border-radius: 4px; font-size: 13px;">
                    <strong>計算ステータス:</strong>
                    <div id="calc-status" style="margin-top: 5px;">
                        <span class="status-badge status-warning">未実行</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 計算結果表示セクション -->
        <div class="card result-section">
            <h2>最適ルート計算結果</h2>
            <div id="route-results">
                <div class="empty-state">
                    <p>ルート計算を実行すると、結果がここに表示されます</p>
                </div>
            </div>
            <div id="map-container" class="map-container" style="display: none;">
                <div id="route-map"></div>
            </div>
        </div>

        <!-- その他の機能 -->
        <div class="main-content" style="margin-top: 20px;">
            <div class="card">
                <h2>計算履歴</h2>
                <div style="max-height: 200px; overflow-y: auto;">
                    <div class="list-item">
                        <div class="list-item-header">
                            <span class="list-item-title">2026/01/15 09:00 - 朝一計算</span>
                            <button class="btn btn-secondary" style="padding: 4px 12px; font-size: 12px;">詳細</button>
                        </div>
                        <div class="list-item-meta">
                            実行者: 管理者 | 患者数: 5名 | 全体終了予定: 10:50
                        </div>
                    </div>
                    <div class="list-item">
                        <div class="list-item-header">
                            <span class="list-item-title">2026/01/14 14:00 - 昼計算</span>
                            <button class="btn btn-secondary" style="padding: 4px 12px; font-size: 12px;">詳細</button>
                        </div>
                        <div class="list-item-meta">
                            実行者: 管理者 | 患者数: 3名 | 全体終了予定: 15:30
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>システム管理</h2>
                <div class="btn-group" style="flex-direction: column;">
                    <button class="btn btn-secondary btn-full">バックアップ実行</button>
                    <button class="btn btn-secondary btn-full">データエクスポート</button>
                    <button class="btn btn-secondary btn-full">設定</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 地図とマーカーのグローバル変数
        let map = null;
        let markers = [];
        let polylines = [];

        // 地図の初期化
        function initMap() {
            // 東京の中心座標（デフォルト）
            const defaultCenter = { lat: 35.6812, lng: 139.7671 };
            
            try {
                map = new google.maps.Map(document.getElementById('route-map'), {
                    zoom: 12,
                    center: defaultCenter,
                    mapTypeControl: true,
                    streetViewControl: false,
                    fullscreenControl: true
                });
            } catch (e) {
                // Google Maps APIが読み込まれていない場合のフォールバック
                document.getElementById('route-map').innerHTML = 
                    '<div style="padding: 40px; text-align: center; color: #666;">' +
                    '<p>地図を表示するにはGoogle Maps APIキーが必要です。</p>' +
                    '<p style="font-size: 12px; margin-top: 10px;">モックアップでは地図のプレースホルダーを表示しています。</p>' +
                    '</div>';
            }
        }

        // 地図をクリア
        function clearMap() {
            markers.forEach(marker => marker.setMap(null));
            polylines.forEach(polyline => polyline.setMap(null));
            markers = [];
            polylines = [];
        }

        // 患者の位置を地図に表示
        function displayRouteOnMap(routes) {
            clearMap();
            
            if (!map) {
                initMap();
            }

            // Google Maps APIが利用できない場合はスキップ
            if (typeof google === 'undefined' || !google.maps || !google.maps.Map) {
                return;
            }

            try {
                const bounds = new google.maps.LatLngBounds();
                const colors = ['#667eea', '#28a745', '#dc3545']; // 医師ごとの色

                routes.forEach((route, doctorIndex) => {
                    const color = colors[doctorIndex % colors.length];
                    const routePath = [];

                    // 医療機関の位置（出発点）
                    const hospitalLocation = { lat: 35.6812, lng: 139.7671 };
                    routePath.push(hospitalLocation);

                    // 各患者の位置をマーカーで表示
                    route.patients.forEach((patient, index) => {
                        // モックデータ: 実際の実装では患者の緯度経度を使用
                        const patientLocation = {
                            lat: hospitalLocation.lat + (Math.random() - 0.5) * 0.1,
                            lng: hospitalLocation.lng + (Math.random() - 0.5) * 0.1
                        };
                        routePath.push(patientLocation);

                        // マーカーを作成
                        const marker = new google.maps.Marker({
                            position: patientLocation,
                            map: map,
                            label: {
                                text: (index + 1).toString(),
                                color: 'white',
                                fontWeight: 'bold'
                            },
                            icon: {
                                path: google.maps.SymbolPath.CIRCLE,
                                scale: 12,
                                fillColor: color,
                                fillOpacity: 1,
                                strokeColor: 'white',
                                strokeWeight: 2
                            },
                            title: patient.name
                        });

                        // インフォウィンドウ
                        const infoWindow = new google.maps.InfoWindow({
                            content: `
                                <div style="padding: 5px;">
                                    <strong>${patient.name}</strong><br>
                                    順序: ${index + 1}<br>
                                    移動時間: ${patient.travelTime}分<br>
                                    診察時間: ${patient.examTime}分<br>
                                    到着予定: ${patient.arrivalTime}
                                </div>
                            `
                        });

                        marker.addListener('click', () => {
                            infoWindow.open(map, marker);
                        });

                        markers.push(marker);
                        bounds.extend(patientLocation);
                    });

                    // ルートを線で結ぶ
                    const polyline = new google.maps.Polyline({
                        path: routePath,
                        geodesic: true,
                        strokeColor: color,
                        strokeOpacity: 0.8,
                        strokeWeight: 4
                    });
                    polyline.setMap(map);
                    polylines.push(polyline);

                    // 医療機関のマーカー
                    const hospitalMarker = new google.maps.Marker({
                        position: hospitalLocation,
                        map: map,
                        icon: {
                            path: google.maps.SymbolPath.CIRCLE,
                            scale: 10,
                            fillColor: '#6c757d',
                            fillOpacity: 1,
                            strokeColor: 'white',
                            strokeWeight: 2
                        },
                        title: '医療機関'
                    });
                    markers.push(hospitalMarker);
                    bounds.extend(hospitalLocation);
                });

                // すべてのマーカーが表示されるように地図を調整
                if (routes.length > 0 && map.fitBounds) {
                    map.fitBounds(bounds);
                }
            } catch (e) {
                console.error('地図表示エラー:', e);
            }
        }

        // タブ切り替え
        function switchTab(tabName) {
            // すべてのタブとコンテンツを非アクティブに
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

            // 選択されたタブとコンテンツをアクティブに
            event.target.classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        // ルート計算（モック）
        function calculateRoute(type) {
            const statusEl = document.getElementById('calc-status');
            const resultsEl = document.getElementById('route-results');

            // 計算中表示
            statusEl.innerHTML = '<span class="status-badge status-warning">計算中...</span>';
            resultsEl.innerHTML = '<div style="text-align: center; padding: 40px;"><p>計算中です。しばらくお待ちください...</p></div>';
            document.getElementById('map-container').style.display = 'none';

            // 3秒後に結果を表示（モック）
            setTimeout(() => {
                statusEl.innerHTML = '<span class="status-badge status-success">計算完了</span>';
                
                const typeNames = {
                    'morning': '朝一計算',
                    'afternoon': '昼計算',
                    'emergency': '緊急割り込み計算'
                };

                // ルートデータ（地図表示用）
                const routeData = [
                    {
                        doctorName: '医師A（田中）',
                        patients: [
                            { name: '患者1（P001）', travelTime: 5, examTime: 15, arrivalTime: '09:05' },
                            { name: '患者3（P003）', travelTime: 8, examTime: 20, arrivalTime: '09:28' },
                            { name: '患者5（P005）', travelTime: 6, examTime: 15, arrivalTime: '09:49' }
                        ],
                        endTime: '10:04'
                    },
                    {
                        doctorName: '医師B（佐藤）',
                        patients: [
                            { name: '患者2（P002）', travelTime: 3, examTime: 10, arrivalTime: '09:03' },
                            { name: '患者4（P004）', travelTime: 10, examTime: 18, arrivalTime: '09:31' }
                        ],
                        endTime: '09:49'
                    }
                ];

                resultsEl.innerHTML = `
                    <div style="margin-bottom: 15px; padding: 10px; background: #e7f3ff; border-radius: 4px;">
                        <strong>計算種別:</strong> ${typeNames[type]} | 
                        <strong>実行日時:</strong> ${new Date().toLocaleString('ja-JP')} |
                        <strong>全体終了予定時刻:</strong> <span style="color: #28a745; font-weight: 600;">10:50</span>
                    </div>
                    <div class="result-layout">
                        <div class="result-list">
                            <div class="doctor-route">
                                <h3>医師A（田中）</h3>
                                <div class="route-item">
                                    <div class="route-number">1</div>
                                    <div class="route-details">
                                        <div class="route-patient">患者1（P001）</div>
                                        <div class="route-time">移動時間: 5分 | 診察時間: 15分 | 到着予定: 09:05</div>
                                    </div>
                                </div>
                                <div class="route-item">
                                    <div class="route-number">2</div>
                                    <div class="route-details">
                                        <div class="route-patient">患者3（P003）</div>
                                        <div class="route-time">移動時間: 8分 | 診察時間: 20分 | 到着予定: 09:28</div>
                                    </div>
                                </div>
                                <div class="route-item">
                                    <div class="route-number">3</div>
                                    <div class="route-details">
                                        <div class="route-patient">患者5（P005）</div>
                                        <div class="route-time">移動時間: 6分 | 診察時間: 15分 | 到着予定: 09:49</div>
                                    </div>
                                </div>
                                <div class="route-total">診療終了予定時刻: 10:04</div>
                            </div>
                            <div class="doctor-route">
                                <h3>医師B（佐藤）</h3>
                                <div class="route-item">
                                    <div class="route-number">1</div>
                                    <div class="route-details">
                                        <div class="route-patient">患者2（P002）</div>
                                        <div class="route-time">移動時間: 3分 | 診察時間: 10分 | 到着予定: 09:03</div>
                                    </div>
                                </div>
                                <div class="route-item">
                                    <div class="route-number">2</div>
                                    <div class="route-details">
                                        <div class="route-patient">患者4（P004）</div>
                                        <div class="route-time">移動時間: 10分 | 診察時間: 18分 | 到着予定: 09:31</div>
                                    </div>
                                </div>
                                <div class="route-total">診療終了予定時刻: 09:49</div>
                            </div>
                        </div>
                    </div>
                `;

                // 地図を表示
                document.getElementById('map-container').style.display = 'block';
                
                // 地図が初期化されていない場合は初期化
                if (!map) {
                    initMap();
                }
                
                // 少し遅延してから地図を表示（DOM更新を待つ）
                setTimeout(() => {
                    displayRouteOnMap(routeData);
                }, 100);
            }, 3000);
        }

        // フォーム送信の防止（モック）
        document.getElementById('patient-form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert('患者情報を登録しました（モック）');
        });

        document.getElementById('doctor-form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert('医師情報を登録しました（モック）');
        });

        document.getElementById('emergency-form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert('緊急往診を登録しました。ルートを再計算します（モック）');
            calculateRoute('emergency');
        });
    </script>
</body>
</html>
